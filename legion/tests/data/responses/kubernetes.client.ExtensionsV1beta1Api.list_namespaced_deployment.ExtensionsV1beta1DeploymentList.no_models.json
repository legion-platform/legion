{
  "apiVersion": "extensions/v1beta1",
  "items": [
    {
      "metadata": {
        "annotations": {
          "deployment.kubernetes.io/revision": "2"
        },
        "creationTimestamp": "2018-11-05T15:08:21Z",
        "generation": 2,
        "labels": {
          "chart": "airflow-0.0.1",
          "component": "airflow-debug-enclave-flower",
          "heritage": "Tiller",
          "release": "airflow-debug-enclave"
        },
        "name": "airflow-debug-enclave-flower",
        "namespace": "debug-enclave",
        "resourceVersion": "7240",
        "selfLink": "/apis/extensions/v1beta1/namespaces/debug-enclave/deployments/airflow-debug-enclave-flower",
        "uid": "a2315136-e10c-11e8-9de3-12a89ae87206"
      },
      "spec": {
        "replicas": 1,
        "selector": {
          "matchLabels": {
            "app": "airflow-debug-enclave-airflow-flower"
          }
        },
        "strategy": {
          "rollingUpdate": {
            "maxSurge": 1,
            "maxUnavailable": 1
          },
          "type": "RollingUpdate"
        },
        "template": {
          "metadata": {
            "creationTimestamp": null,
            "labels": {
              "app": "airflow-debug-enclave-airflow-flower"
            }
          },
          "spec": {
            "containers": [
              {
                "args": [
                  "airflow",
                  "flower"
                ],
                "env": [
                  {
                    "name": "POSTGRES_HOST",
                    "value": "127.0.0.1.com"
                  },
                  {
                    "name": "POSTGRES_PORT",
                    "value": "5432"
                  },
                  {
                    "name": "REDIS_HOST",
                    "value": "airflow-debug-enclave-redis"
                  },
                  {
                    "name": "AIRFLOW_HOME",
                    "value": "/home/airflow"
                  },
                  {
                    "name": "FLOWER_PORT",
                    "value": "5555"
                  }
                ],
                "image": "127.0.0.1:443/ada/k8s-airflow:0.9.0-20181105095338.552.8968684",
                "imagePullPolicy": "IfNotPresent",
                "livenessProbe": {
                  "failureThreshold": 3,
                  "httpGet": {
                    "path": "/",
                    "port": 5555,
                    "scheme": "HTTP"
                  },
                  "initialDelaySeconds": 30,
                  "periodSeconds": 8,
                  "successThreshold": 1,
                  "timeoutSeconds": 8
                },
                "name": "flower",
                "ports": [
                  {
                    "containerPort": 5555,
                    "name": "flower",
                    "protocol": "TCP"
                  }
                ],
                "resources": {
                  "limits": {
                    "cpu": "100m",
                    "memory": "1Gi"
                  },
                  "requests": {
                    "cpu": "50m",
                    "memory": "64Mi"
                  }
                },
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "File",
                "volumeMounts": [
                  {
                    "mountPath": "/home/airflow/airflow.cfg",
                    "name": "airflow-config",
                    "subPath": "airflow.cfg"
                  },
                  {
                    "mountPath": "/airflow-dags",
                    "name": "dag-volume"
                  },
                  {
                    "mountPath": "/home/airflow/config",
                    "name": "airflow-config-dir"
                  }
                ]
              }
            ],
            "dnsPolicy": "ClusterFirst",
            "restartPolicy": "Always",
            "schedulerName": "default-scheduler",
            "securityContext": {},
            "terminationGracePeriodSeconds": 30,
            "volumes": [
              {
                "configMap": {
                  "defaultMode": 420,
                  "name": "airflow-debug-enclave-log-config"
                },
                "name": "airflow-config-dir"
              },
              {
                "name": "airflow-config",
                "secret": {
                  "defaultMode": 420,
                  "items": [
                    {
                      "key": "airflow.cfg",
                      "path": "airflow.cfg"
                    }
                  ],
                  "secretName": "airflow-debug-enclave-config"
                }
              },
              {
                "name": "dag-volume",
                "persistentVolumeClaim": {
                  "claimName": "legion-airflow-dags"
                }
              }
            ]
          }
        }
      },
      "status": {
        "availableReplicas": 1,
        "conditions": [
          {
            "lastTransitionTime": "2018-11-05T15:08:21Z",
            "lastUpdateTime": "2018-11-05T15:08:21Z",
            "message": "Deployment has minimum availability.",
            "reason": "MinimumReplicasAvailable",
            "status": "True",
            "type": "Available"
          }
        ],
        "observedGeneration": 2,
        "readyReplicas": 1,
        "replicas": 1,
        "updatedReplicas": 1
      }
    },
    {
      "metadata": {
        "annotations": {
          "deployment.kubernetes.io/revision": "1"
        },
        "creationTimestamp": "2018-11-05T15:08:21Z",
        "generation": 1,
        "labels": {
          "chart": "airflow-0.0.1",
          "component": "airflow-debug-enclave-redis",
          "heritage": "Tiller",
          "release": "airflow-debug-enclave"
        },
        "name": "airflow-debug-enclave-redis",
        "namespace": "debug-enclave",
        "resourceVersion": "4457",
        "selfLink": "/apis/extensions/v1beta1/namespaces/debug-enclave/deployments/airflow-debug-enclave-redis",
        "uid": "a2322e98-e10c-11e8-9de3-12a89ae87206"
      },
      "spec": {
        "replicas": 1,
        "selector": {
          "matchLabels": {
            "app": "airflow-debug-enclave-redis"
          }
        },
        "strategy": {
          "rollingUpdate": {
            "maxSurge": 1,
            "maxUnavailable": 1
          },
          "type": "RollingUpdate"
        },
        "template": {
          "metadata": {
            "creationTimestamp": null,
            "labels": {
              "app": "airflow-debug-enclave-redis"
            }
          },
          "spec": {
            "containers": [
              {
                "image": "redis:3",
                "imagePullPolicy": "IfNotPresent",
                "livenessProbe": {
                  "exec": {
                    "command": [
                      "sh",
                      "-c",
                      "redis-cli -h $(hostname) ping"
                    ]
                  },
                  "failureThreshold": 3,
                  "initialDelaySeconds": 60,
                  "periodSeconds": 3,
                  "successThreshold": 1,
                  "timeoutSeconds": 3
                },
                "name": "redis",
                "ports": [
                  {
                    "containerPort": 6379,
                    "name": "node",
                    "protocol": "TCP"
                  }
                ],
                "resources": {
                  "limits": {
                    "cpu": "100m",
                    "memory": "256Mi"
                  },
                  "requests": {
                    "cpu": "50m",
                    "memory": "64Mi"
                  }
                },
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "File"
              }
            ],
            "dnsPolicy": "ClusterFirst",
            "restartPolicy": "Always",
            "schedulerName": "default-scheduler",
            "securityContext": {},
            "terminationGracePeriodSeconds": 30
          }
        }
      },
      "status": {
        "availableReplicas": 1,
        "conditions": [
          {
            "lastTransitionTime": "2018-11-05T15:08:21Z",
            "lastUpdateTime": "2018-11-05T15:08:21Z",
            "message": "Deployment has minimum availability.",
            "reason": "MinimumReplicasAvailable",
            "status": "True",
            "type": "Available"
          }
        ],
        "observedGeneration": 1,
        "readyReplicas": 1,
        "replicas": 1,
        "updatedReplicas": 1
      }
    },
    {
      "metadata": {
        "annotations": {
          "deployment.kubernetes.io/revision": "2"
        },
        "creationTimestamp": "2018-11-05T15:08:21Z",
        "generation": 2,
        "labels": {
          "chart": "airflow-0.0.1",
          "component": "airflow-debug-enclave-scheduler",
          "heritage": "Tiller",
          "release": "airflow-debug-enclave"
        },
        "name": "airflow-debug-enclave-scheduler",
        "namespace": "debug-enclave",
        "resourceVersion": "7236",
        "selfLink": "/apis/extensions/v1beta1/namespaces/debug-enclave/deployments/airflow-debug-enclave-scheduler",
        "uid": "a232cb5d-e10c-11e8-9de3-12a89ae87206"
      },
      "spec": {
        "replicas": 1,
        "selector": {
          "matchLabels": {
            "app": "airflow-debug-enclave-airflow-scheduler"
          }
        },
        "strategy": {
          "rollingUpdate": {
            "maxSurge": 1,
            "maxUnavailable": 1
          },
          "type": "RollingUpdate"
        },
        "template": {
          "metadata": {
            "annotations": {
              "iam.amazonaws.com/role": "127.0.0.1.com-debug-enclave-airflow-role"
            },
            "creationTimestamp": null,
            "labels": {
              "app": "airflow-debug-enclave-airflow-scheduler"
            }
          },
          "spec": {
            "containers": [
              {
                "args": [
                  "airflow",
                  "scheduler"
                ],
                "env": [
                  {
                    "name": "POSTGRES_HOST",
                    "value": "127.0.0.1.com"
                  },
                  {
                    "name": "POSTGRES_PORT",
                    "value": "5432"
                  },
                  {
                    "name": "REDIS_HOST",
                    "value": "airflow-debug-enclave-redis"
                  },
                  {
                    "name": "AIRFLOW_HOME",
                    "value": "/home/airflow"
                  }
                ],
                "image": "127.0.0.1:443/ada/k8s-airflow:0.9.0-20181105095338.552.8968684",
                "imagePullPolicy": "IfNotPresent",
                "livenessProbe": {
                  "exec": {
                    "command": [
                      "sh",
                      "-c",
                      "ps x |grep \"[a]irflow scheduler\""
                    ]
                  },
                  "failureThreshold": 3,
                  "initialDelaySeconds": 10,
                  "periodSeconds": 3,
                  "successThreshold": 1,
                  "timeoutSeconds": 3
                },
                "name": "scheduler",
                "resources": {
                  "limits": {
                    "cpu": "2",
                    "memory": "2Gi"
                  },
                  "requests": {
                    "cpu": "1",
                    "memory": "1Gi"
                  }
                },
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "File",
                "volumeMounts": [
                  {
                    "mountPath": "/home/airflow/airflow.cfg",
                    "name": "airflow-config",
                    "subPath": "airflow.cfg"
                  },
                  {
                    "mountPath": "/airflow-dags",
                    "name": "dag-volume"
                  },
                  {
                    "mountPath": "/home/airflow/config",
                    "name": "airflow-config-dir"
                  }
                ]
              }
            ],
            "dnsPolicy": "ClusterFirst",
            "restartPolicy": "Always",
            "schedulerName": "default-scheduler",
            "securityContext": {},
            "terminationGracePeriodSeconds": 30,
            "volumes": [
              {
                "configMap": {
                  "defaultMode": 420,
                  "name": "airflow-debug-enclave-log-config"
                },
                "name": "airflow-config-dir"
              },
              {
                "name": "airflow-config",
                "secret": {
                  "defaultMode": 420,
                  "items": [
                    {
                      "key": "airflow.cfg",
                      "path": "airflow.cfg"
                    }
                  ],
                  "secretName": "airflow-debug-enclave-config"
                }
              },
              {
                "name": "dag-volume",
                "persistentVolumeClaim": {
                  "claimName": "legion-airflow-dags"
                }
              }
            ]
          }
        }
      },
      "status": {
        "availableReplicas": 1,
        "conditions": [
          {
            "lastTransitionTime": "2018-11-05T15:08:21Z",
            "lastUpdateTime": "2018-11-05T15:08:21Z",
            "message": "Deployment has minimum availability.",
            "reason": "MinimumReplicasAvailable",
            "status": "True",
            "type": "Available"
          }
        ],
        "observedGeneration": 2,
        "readyReplicas": 1,
        "replicas": 1,
        "updatedReplicas": 1
      }
    },
    {
      "metadata": {
        "annotations": {
          "deployment.kubernetes.io/revision": "2"
        },
        "creationTimestamp": "2018-11-05T15:08:21Z",
        "generation": 2,
        "labels": {
          "chart": "airflow-0.0.1",
          "component": "airflow-debug-enclave-web",
          "heritage": "Tiller",
          "release": "airflow-debug-enclave"
        },
        "name": "airflow-debug-enclave-web",
        "namespace": "debug-enclave",
        "resourceVersion": "7397",
        "selfLink": "/apis/extensions/v1beta1/namespaces/debug-enclave/deployments/airflow-debug-enclave-web",
        "uid": "a2337e3b-e10c-11e8-9de3-12a89ae87206"
      },
      "spec": {
        "replicas": 1,
        "selector": {
          "matchLabels": {
            "app": "airflow-debug-enclave-airflow-web"
          }
        },
        "strategy": {
          "rollingUpdate": {
            "maxSurge": 1,
            "maxUnavailable": 1
          },
          "type": "RollingUpdate"
        },
        "template": {
          "metadata": {
            "annotations": {
              "iam.amazonaws.com/role": "127.0.0.1.com-debug-enclave-airflow-role"
            },
            "creationTimestamp": null,
            "labels": {
              "app": "airflow-debug-enclave-airflow-web"
            }
          },
          "spec": {
            "containers": [
              {
                "args": [
                  "airflow",
                  "webserver"
                ],
                "env": [
                  {
                    "name": "POSTGRES_HOST",
                    "value": "127.0.0.1.com"
                  },
                  {
                    "name": "POSTGRES_PORT",
                    "value": "5432"
                  },
                  {
                    "name": "REDIS_HOST",
                    "value": "airflow-debug-enclave-redis"
                  },
                  {
                    "name": "AIRFLOW_HOME",
                    "value": "/home/airflow"
                  },
                  {
                    "name": "BOOTUP_DIRECTORY",
                    "value": "/opt/bootup"
                  },
                  {
                    "name": "SECRETS_DIRECTORY",
                    "value": "/opt/secrets"
                  }
                ],
                "image": "127.0.0.1:443/ada/k8s-airflow:0.9.0-20181105095338.552.8968684",
                "imagePullPolicy": "IfNotPresent",
                "livenessProbe": {
                  "failureThreshold": 3,
                  "httpGet": {
                    "path": "/admin/airflow/dag_stats",
                    "port": 8080,
                    "scheme": "HTTP"
                  },
                  "initialDelaySeconds": 60,
                  "periodSeconds": 5,
                  "successThreshold": 1,
                  "timeoutSeconds": 3
                },
                "name": "web",
                "ports": [
                  {
                    "containerPort": 8080,
                    "name": "web",
                    "protocol": "TCP"
                  }
                ],
                "readinessProbe": {
                  "failureThreshold": 3,
                  "httpGet": {
                    "path": "/admin/rest_api/api?api=rest_api_plugin_version",
                    "port": 8080,
                    "scheme": "HTTP"
                  },
                  "initialDelaySeconds": 60,
                  "periodSeconds": 5,
                  "successThreshold": 1,
                  "timeoutSeconds": 3
                },
                "resources": {
                  "limits": {
                    "cpu": "500m",
                    "memory": "1200Mi"
                  },
                  "requests": {
                    "cpu": "400m",
                    "memory": "750Mi"
                  }
                },
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "File",
                "volumeMounts": [
                  {
                    "mountPath": "/home/airflow/airflow.cfg",
                    "name": "airflow-config",
                    "subPath": "airflow.cfg"
                  },
                  {
                    "mountPath": "/opt/secrets",
                    "name": "connections-config"
                  },
                  {
                    "mountPath": "/airflow-dags",
                    "name": "dag-volume"
                  },
                  {
                    "mountPath": "/home/airflow/config",
                    "name": "airflow-config-dir"
                  }
                ]
              }
            ],
            "dnsPolicy": "ClusterFirst",
            "restartPolicy": "Always",
            "schedulerName": "default-scheduler",
            "securityContext": {},
            "terminationGracePeriodSeconds": 30,
            "volumes": [
              {
                "configMap": {
                  "defaultMode": 420,
                  "name": "airflow-debug-enclave-log-config"
                },
                "name": "airflow-config-dir"
              },
              {
                "name": "airflow-config",
                "secret": {
                  "defaultMode": 420,
                  "items": [
                    {
                      "key": "airflow.cfg",
                      "path": "airflow.cfg"
                    }
                  ],
                  "secretName": "airflow-debug-enclave-config"
                }
              },
              {
                "name": "connections-config",
                "secret": {
                  "defaultMode": 420,
                  "secretName": "airflow-debug-enclave-connections-config"
                }
              },
              {
                "name": "dag-volume",
                "persistentVolumeClaim": {
                  "claimName": "legion-airflow-dags"
                }
              }
            ]
          }
        }
      },
      "status": {
        "availableReplicas": 1,
        "conditions": [
          {
            "lastTransitionTime": "2018-11-05T15:08:21Z",
            "lastUpdateTime": "2018-11-05T15:08:21Z",
            "message": "Deployment has minimum availability.",
            "reason": "MinimumReplicasAvailable",
            "status": "True",
            "type": "Available"
          }
        ],
        "observedGeneration": 2,
        "readyReplicas": 1,
        "replicas": 1,
        "updatedReplicas": 1
      }
    },
    {
      "metadata": {
        "annotations": {
          "deployment.kubernetes.io/revision": "2"
        },
        "creationTimestamp": "2018-11-05T15:08:21Z",
        "generation": 2,
        "labels": {
          "chart": "airflow-0.0.1",
          "component": "airflow-debug-enclave-worker",
          "heritage": "Tiller",
          "release": "airflow-debug-enclave"
        },
        "name": "airflow-debug-enclave-worker",
        "namespace": "debug-enclave",
        "resourceVersion": "7292",
        "selfLink": "/apis/extensions/v1beta1/namespaces/debug-enclave/deployments/airflow-debug-enclave-worker",
        "uid": "a236603d-e10c-11e8-9de3-12a89ae87206"
      },
      "spec": {
        "replicas": 1,
        "selector": {
          "matchLabels": {
            "app": "airflow-debug-enclave-airflow-worker"
          }
        },
        "strategy": {
          "rollingUpdate": {
            "maxSurge": 1,
            "maxUnavailable": 1
          },
          "type": "RollingUpdate"
        },
        "template": {
          "metadata": {
            "annotations": {
              "iam.amazonaws.com/role": "127.0.0.1.com-debug-enclave-airflow-role"
            },
            "creationTimestamp": null,
            "labels": {
              "app": "airflow-debug-enclave-airflow-worker"
            }
          },
          "spec": {
            "containers": [
              {
                "args": [
                  "airflow",
                  "worker"
                ],
                "env": [
                  {
                    "name": "POSTGRES_HOST",
                    "value": "127.0.0.1.com"
                  },
                  {
                    "name": "POSTGRES_PORT",
                    "value": "5432"
                  },
                  {
                    "name": "REDIS_HOST",
                    "value": "airflow-debug-enclave-redis"
                  },
                  {
                    "name": "AIRFLOW_HOME",
                    "value": "/home/airflow"
                  },
                  {
                    "name": "MODEL_SERVER_URL",
                    "value": "http://legion-debug-enclave-edge"
                  },
                  {
                    "name": "EDI_URL",
                    "value": "http://legion-debug-enclave-edi"
                  },
                  {
                    "name": "NAMESPACE",
                    "value": "debug-enclave"
                  }
                ],
                "image": "127.0.0.1:443/ada/k8s-airflow:0.9.0-20181105095338.552.8968684",
                "imagePullPolicy": "IfNotPresent",
                "name": "worker",
                "resources": {
                  "limits": {
                    "cpu": "2",
                    "memory": "2500Mi"
                  },
                  "requests": {
                    "cpu": "1500m",
                    "memory": "1000Mi"
                  }
                },
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "File",
                "volumeMounts": [
                  {
                    "mountPath": "/home/airflow/airflow.cfg",
                    "name": "airflow-config",
                    "subPath": "airflow.cfg"
                  },
                  {
                    "mountPath": "/airflow-dags",
                    "name": "dag-volume"
                  },
                  {
                    "mountPath": "/home/airflow/config",
                    "name": "airflow-config-dir"
                  }
                ]
              }
            ],
            "dnsPolicy": "ClusterFirst",
            "restartPolicy": "Always",
            "schedulerName": "default-scheduler",
            "securityContext": {},
            "serviceAccount": "airflow-debug-enclave-airflow-worker",
            "serviceAccountName": "airflow-debug-enclave-airflow-worker",
            "terminationGracePeriodSeconds": 30,
            "volumes": [
              {
                "configMap": {
                  "defaultMode": 420,
                  "name": "airflow-debug-enclave-log-config"
                },
                "name": "airflow-config-dir"
              },
              {
                "name": "airflow-config",
                "secret": {
                  "defaultMode": 420,
                  "items": [
                    {
                      "key": "airflow.cfg",
                      "path": "airflow.cfg"
                    }
                  ],
                  "secretName": "airflow-debug-enclave-config"
                }
              },
              {
                "name": "dag-volume",
                "persistentVolumeClaim": {
                  "claimName": "legion-airflow-dags"
                }
              }
            ]
          }
        }
      },
      "status": {
        "availableReplicas": 1,
        "conditions": [
          {
            "lastTransitionTime": "2018-11-05T15:08:21Z",
            "lastUpdateTime": "2018-11-05T15:08:21Z",
            "message": "Deployment has minimum availability.",
            "reason": "MinimumReplicasAvailable",
            "status": "True",
            "type": "Available"
          }
        ],
        "observedGeneration": 2,
        "readyReplicas": 1,
        "replicas": 1,
        "updatedReplicas": 1
      }
    },
    {
      "metadata": {
        "annotations": {
          "deployment.kubernetes.io/revision": "1"
        },
        "creationTimestamp": "2018-11-05T15:09:59Z",
        "generation": 1,
        "labels": {
          "chart": "event-collector-0.0.1",
          "component": "event-collector-debug-enclave-fluentd",
          "heritage": "Tiller",
          "release": "event-collector-debug-enclave"
        },
        "name": "event-collector-debug-enclave-fluentd",
        "namespace": "debug-enclave",
        "resourceVersion": "4774",
        "selfLink": "/apis/extensions/v1beta1/namespaces/debug-enclave/deployments/event-collector-debug-enclave-fluentd",
        "uid": "dcd7480e-e10c-11e8-9de3-12a89ae87206"
      },
      "spec": {
        "replicas": 1,
        "selector": {
          "matchLabels": {
            "component": "event-collector-debug-enclave-fluentd"
          }
        },
        "strategy": {
          "rollingUpdate": {
            "maxSurge": 1,
            "maxUnavailable": 1
          },
          "type": "RollingUpdate"
        },
        "template": {
          "metadata": {
            "annotations": {
              "iam.amazonaws.com/role": "127.0.0.1.com-debug-enclave-collector-role"
            },
            "creationTimestamp": null,
            "labels": {
              "component": "event-collector-debug-enclave-fluentd"
            }
          },
          "spec": {
            "containers": [
              {
                "image": "127.0.0.1:443/legion/k8s-fluentd:0.9.0-20181105095338.552.8968684",
                "imagePullPolicy": "IfNotPresent",
                "name": "fluentd",
                "ports": [
                  {
                    "containerPort": 80,
                    "name": "input",
                    "protocol": "TCP"
                  }
                ],
                "resources": {
                  "limits": {
                    "cpu": "500m",
                    "memory": "1Gi"
                  },
                  "requests": {
                    "cpu": "300m",
                    "memory": "256Mi"
                  }
                },
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "File",
                "volumeMounts": [
                  {
                    "mountPath": "/opt/config",
                    "name": "fluentd-config-values"
                  }
                ]
              }
            ],
            "dnsPolicy": "ClusterFirst",
            "restartPolicy": "Always",
            "schedulerName": "default-scheduler",
            "securityContext": {},
            "terminationGracePeriodSeconds": 30,
            "volumes": [
              {
                "configMap": {
                  "defaultMode": 420,
                  "name": "event-collector-debug-enclave-fluentd-config-values"
                },
                "name": "fluentd-config-values"
              }
            ]
          }
        }
      },
      "status": {
        "availableReplicas": 1,
        "conditions": [
          {
            "lastTransitionTime": "2018-11-05T15:09:59Z",
            "lastUpdateTime": "2018-11-05T15:09:59Z",
            "message": "Deployment has minimum availability.",
            "reason": "MinimumReplicasAvailable",
            "status": "True",
            "type": "Available"
          }
        ],
        "observedGeneration": 1,
        "readyReplicas": 1,
        "replicas": 1,
        "updatedReplicas": 1
      }
    }
  ],
  "kind": "DeploymentList",
  "metadata": {
    "resourceVersion": "349729",
    "selfLink": "/apis/extensions/v1beta1/namespaces/debug-enclave/deployments"
  }
}